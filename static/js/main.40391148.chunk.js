(window.webpackJsonpeuropeana=window.webpackJsonpeuropeana||[]).push([[0],{102:function(t,e,a){},13:function(t,e,a){},283:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),r=a(29),s=a.n(r),o=(a(102),a(3)),l=a(4),c=a(7),d=a(5),u=a(2),h=a(6),m=(a(13),a(43)),p=a(94),g=[188,13],x=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={tags:[{id:"horse",text:"Horse"}],suggestions:[{id:"portrait",text:"Portrait"},{id:"war",text:"War"},{id:"mountain",text:"Mountain"},{id:"tree",text:"Tree"},{id:"lake",text:"Lake"},{id:"princess",text:"Princess"},{id:"sky",text:"Sky"},{id:"river",text:"River"},{id:"dog",text:"Dog"},{id:"wolf",text:"Wolf"},{id:"forest",text:"Forest"},{id:"music",text:"Music"},{id:"sunset",text:"Sunset"},{id:"king",text:"King"},{id:"battle",text:"Battle"},{id:"pond",text:"Pond"},{id:"flower",text:"Flower"},{id:"god",text:"God"},{id:"farm",text:"Farm"},{id:"horse",text:"Horse"},{id:"figure",text:"Figure"},{id:"life",text:"Life"},{id:"landscape",text:"Landscape"},{id:"bridge",text:"Bridge"},{id:"water",text:"Water"},{id:"day",text:"Day"},{id:"man",text:"Man"},{id:"woman",text:"Woman"},{id:"people",text:"People"},{id:"family",text:"Family"},{id:"school",text:"School"},{id:"country",text:"Country"},{id:"hand",text:"Hand"},{id:"night",text:"Night"},{id:"home",text:"Home"},{id:"mother",text:"Mother"},{id:"story",text:"Story"},{id:"book",text:"Book"},{id:"house",text:"House"},{id:"father",text:"Father"},{id:"game",text:"Game"},{id:"city",text:"City"},{id:"body",text:"Body"},{id:"face",text:"Face"},{id:"party",text:"Party"},{id:"morning",text:"Morning"},{id:"girl",text:"Girl"},{id:"boy",text:"Boy"},{id:"sea",text:"Sea"},{id:"jesus",text:"Jesus"},{id:"view",text:"View"},{id:"abstract",text:"Abstract"},{id:"beach",text:"Beach"},{id:"nude",text:"Nude"},{id:"sand",text:"Sand"},{id:"moon",text:"Moon"},{id:"autumn",text:"Autumn"},{id:"spring",text:"Spring"},{id:"summer",text:"Summer"},{id:"winter",text:"Winter"},{id:"bird",text:"Bird"},{id:"festival",text:"Festival"},{id:"garden",text:"Garden"},{id:"son",text:"Son"},{id:"daughter",text:"Daughter"},{id:"dance",text:"Dance"},{id:"roman",text:"Roman"},{id:"warrior",text:"Warrior"},{id:"statue",text:"Statue"},{id:"dream",text:"Dream"},{id:"fruit",text:"Fruit"},{id:"wood",text:"Wood"},{id:"child",text:"Child"},{id:"christ",text:"Christ"},{id:"cloud",text:"Cloud"},{id:"wave",text:"Wave"},{id:"angel",text:"Angel"},{id:"scene",text:"Scene"},{id:"steet",text:"Street"},{id:"boat",text:"Boat"},{id:"ship",text:"Ship"},{id:"window",text:"Window"},{id:"balcony",text:"Balcony"},{id:"lady",text:"Lady"},{id:"saint",text:"Saint"},{id:"church",text:"Church"},{id:"ink",text:"Ink"},{id:"oil",text:"Oil"},{id:"canvas",text:"Canvas"},{id:"mourning",text:"Mourning"},{id:"panel",text:"Panel"},{id:"scroll",text:"Scroll"},{id:"rock",text:"Rock"},{id:"century",text:"Century"},{id:"light",text:"Light"},{id:"fire",text:"Fire"},{id:"magic",text:"Magic"},{id:"gold",text:"Gold"},{id:"snow",text:"Snow"},{id:"stream",text:"Stream"},{id:"silk",text:"Silk"},{id:"paint",text:"Paint"},{id:"black",text:"Black"},{id:"white",text:"White"},{id:"dragon",text:"Dragon"},{id:"wine",text:"Wine"},{id:"lion",text:"Lion"},{id:"tiger",text:"Tiger"},{id:"bear",text:"Bear"},{id:"cross",text:"Cross"},{id:"cat",text:"Cat"},{id:"wild",text:"Wild"},{id:"wind",text:"Wind"},{id:"wedding",text:"Wedding"},{id:"friend",text:"Friend"},{id:"prince",text:"Prince"},{id:"death",text:"Death"},{id:"foot",text:"Foot"},{id:"birth",text:"Birth"},{id:"devil",text:"Devil"},{id:"market",text:"Market"},{id:"brook",text:"Brook"},{id:"square",text:"Square"},{id:"fish",text:"Fish"},{id:"courtesan",text:"Courtesan"},{id:"tale",text:"Tale"},{id:"sketch",text:"Sketch"},{id:"grave",text:"Grave"},{id:"train",text:"Train"},{id:"miracle",text:"Miracle"},{id:"lamentation",text:"Lamentation"}]},a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.handleAddition=a.handleAddition.bind(Object(u.a)(a)),a.handleDrag=a.handleDrag.bind(Object(u.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"setTagList",value:function(){return Array.prototype.map.call(this.state.tags,function(t){return t.text}).toString()}},{key:"componentDidMount",value:function(){document.querySelector(".ReactTags__tagInputField").insertAdjacentHTML("afterend",'<span class="bottom line"></span><span class="right line"></span><span class="top line"></span><span class="left line"></span>')}},{key:"handleDelete",value:function(t){var e=this,a=this.state.tags;this.setState({tags:a.filter(function(e,a){return a!==t})},function(){e.props.update(e.setTagList())})}},{key:"handleAddition",value:function(t){var e=this;this.setState(function(e){return{tags:[].concat(Object(m.a)(e.tags),[t])}},function(){e.props.update(e.setTagList())})}},{key:"handleDrag",value:function(t,e,a){var i=Object(m.a)(this.state.tags).slice();i.splice(e,1),i.splice(a,0,t),this.setState({tags:i})}},{key:"render",value:function(){var t=this.state,e=t.tags,a=t.suggestions;return n.a.createElement("div",null,n.a.createElement("div",{className:"search"},n.a.createElement(p.WithContext,{tags:e,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:g,onChange:this.handleAddition,autofocus:!1})))}}]),e}(i.Component),f=a(96),v=a.n(f),b=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"map-marker"},n.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M17.592,8.936l-6.531-6.534c-0.593-0.631-0.751-0.245-0.751,0.056l0.002,2.999L5.427,9.075H2.491c-0.839,0-0.162,0.901-0.311,0.752l3.683,3.678l-3.081,3.108c-0.17,0.171-0.17,0.449,0,0.62c0.169,0.17,0.448,0.17,0.618,0l3.098-3.093l3.675,3.685c-0.099-0.099,0.773,0.474,0.773-0.296v-2.965l3.601-4.872l2.734-0.005C17.73,9.688,18.326,9.669,17.592,8.936 M3.534,9.904h1.906l4.659,4.66v1.906L3.534,9.904z M10.522,13.717L6.287,9.48l4.325-3.124l3.088,3.124L10.522,13.717z M14.335,8.845l-3.177-3.177V3.762l5.083,5.083H14.335z"})))}}]),e}(i.Component),y="".concat("AIzaSyDhn6MBYxve_A1a8egl3oMC-0K93tgL7WI"),k=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={center:{lat:a.props.lat,lng:a.props.lng}},a.zoom=10,a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.lat!==t.lat&&this.setState({center:{lat:this.props.lat,lng:this.props.lng}})}},{key:"render",value:function(){return this.state.center?n.a.createElement("div",{className:"map-container"},n.a.createElement(v.a,{bootstrapURLKeys:{key:y},center:this.state.center,zoom:this.zoom},n.a.createElement(b,{lat:this.state.center.lat,lng:this.state.center.lng,text:"My Marker"}))):n.a.createElement("div",null)}}]),e}(i.PureComponent);function E(t){this.setState(function(e){return{page:e.page+=t}})}var w="".concat("nufadzoo"),j=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={page:-1},a.geonames={},a.paginate=E.bind(Object(u.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.city!==t.city&&this.getWikiData(this.props.city)}},{key:"getWikiData",value:function(t){var e=this,a=t.replace(/ \(.*/g,"").replace(/\?/g,"");fetch("https://cors-anywhere.herokuapp.com/http://api.geonames.org/wikipediaSearchJSON?formatted=true&q=".concat(a,"&username=").concat(w,"&style=full"),{method:"GET"}).then(function(t){return t.json()}).then(function(t){e.geonames=t.geonames,e.setState({page:0})})}},{key:"componentDidMount",value:function(){this.getWikiData(this.props.city)}},{key:"render",value:function(){var t=this;return this.geonames[this.state.page]?n.a.createElement("div",{className:"map-wiki flx-ctr wrap"},n.a.createElement("div",{className:"wiki"},n.a.createElement("div",{className:"wiki__results"},n.a.createElement("span",{className:"label__title row"},"Wikipedia results for ",this.props.city,":"),n.a.createElement("span",{className:"label__title row"},this.geonames[this.state.page].title),this.geonames[this.state.page].summary,n.a.createElement("br",null),n.a.createElement("a",{className:"wiki__link row",href:"https://".concat(this.geonames[this.state.page].wikipediaUrl)},this.geonames[this.state.page].title," on wikipedia")),n.a.createElement("div",{className:"page"},this.state.page+1," of ",this.geonames.length,n.a.createElement("br",null),n.a.createElement("button",{className:"prev",onClick:function(){return t.paginate(-1)},disabled:0===this.state.page},"previous")," | ",n.a.createElement("button",{className:"next",onClick:function(){return t.paginate(1)},disabled:this.state.page===this.geonames.length-1},"next"))),n.a.createElement("div",{className:"map"},n.a.createElement(k,{lat:this.geonames[this.state.page].lat,lng:this.geonames[this.state.page].lng}))):n.a.createElement("div",{className:"map-wiki flx-ctr wrap"},n.a.createElement("div",{className:"wiki"},n.a.createElement("div",null,n.a.createElement("svg",{className:"loading",viewBox:"25 25 50 50"},n.a.createElement("circle",{cx:"50",cy:"50",r:"20"})))))}}]),e}(i.Component),O="".concat("8e5a3900-d2f8-11e8-8958-d16e90e2bdfe"),N=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={page:-1},a.records={},a.paginate=E.bind(Object(u.a)(a)),a.setCity=a.setCity.bind(Object(u.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.fetchPaintingData()}},{key:"componentDidUpdate",value:function(t){this.props.title!==t.title&&this.setState({page:0},this.fetchPaintingData())}},{key:"getCssValuePrefix",value:function(){for(var t="",e=["-o-","-ms-","-moz-","-webkit-"],a=document.createElement("div"),i=0;i<e.length;i++)a.style.background=e[i]+"linear-gradient(#000000, #ffffff)",a.style.background&&(t=e[i]);return a=null,this.setStyle(t)}},{key:"setStyle",value:function(t){for(var e=this.records[this.state.page].colors,a="",i=e.length;i--;)a+=e[i].color,a+=0===i?")":", ";document.body.style.background="radial-gradient(circle at bottom right, ".concat(a)}},{key:"objToQueryString",value:function(t){var e=[];for(var a in t)e.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return e.join("&")}},{key:"queryString",value:function(){return this.objToQueryString({apikey:O,title:this.props.title,classification:"Paintings",hasimage:1,q:"imagepermissionlevel:0",person:"any",sort:"random",color:"any"})}},{key:"fetchPaintingData",value:function(){var t=this;fetch("https://api.harvardartmuseums.org/object?".concat(this.queryString()),{method:"GET"}).then(function(t){return t.json()}).then(function(e){t.records=e.records,t.setState({page:0})}).catch(function(t){document.querySelector(".search-error").style.display="block",console.log(t)})}},{key:"setCity",value:function(){var t=this.records[this.state.page].people[0].birthplace;if(t)return t.length>23?t.split(" ").pop():t;if(this.records[this.state.page].culture)return this.records[this.state.page].culture;var e=this.records[this.state.page].division;return e.substr(0,e.indexOf(" "))}},{key:"render",value:function(){var t=this;return this.records[this.state.page]?(this.getCssValuePrefix(),n.a.createElement("div",null,n.a.createElement("div",{className:"render-coontainer"},n.a.createElement("div",{className:"painting flx-ctr"},n.a.createElement("div",{className:"painting__frame flx-ctr"},n.a.createElement("span",{className:"heading"},this.records[this.state.page].title),n.a.createElement("div",{className:"frame__cell left"},n.a.createElement("img",{className:"painting__image",src:this.records[this.state.page].primaryimageurl,alt:"image of "+this.records[this.state.page].title})),n.a.createElement("div",{className:"frame__cell right"},n.a.createElement("div",{className:"painting__label"},n.a.createElement("span",{className:"label__title row"},this.records[this.state.page].title),n.a.createElement("span",{className:"label__artist row"},this.records[this.state.page].people[0].name),n.a.createElement("span",{className:"label__region row"},this.setCity()),n.a.createElement("span",{className:"label__dated row"},this.records[this.state.page].dated),n.a.createElement("span",{className:"label__period row"},this.records[this.state.page].period),n.a.createElement("span",{className:"label__medium row"},this.records[this.state.page].medium)),n.a.createElement("div",{className:"painting__paging page"},this.state.page+1," of ",this.records.length,n.a.createElement("br",null),n.a.createElement("button",{className:"prev",onClick:function(){return t.paginate(-1)},disabled:0===this.state.page},"previous")," | ",n.a.createElement("button",{className:"next",onClick:function(){return t.paginate(1)},disabled:this.state.page===this.records.length-1},"next")))))),n.a.createElement(j,{city:this.setCity(),update:this.updateLatLng}))):n.a.createElement("div",null,n.a.createElement("div",{className:"render-coontainer"},n.a.createElement("div",{className:"search-error"},"ERROR: ",this.props.title," did not return any results"),n.a.createElement("div",{className:"painting flx-ctr"},n.a.createElement("div",null,n.a.createElement("svg",{className:"loading",viewBox:"25 25 50 50"},n.a.createElement("circle",{cx:"50",cy:"50",r:"20"}))))))}}]),e}(i.Component),S=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(d.a)(e).call(this,t))).state={title:"horse"},a.updateTitle=a.updateTitle.bind(Object(u.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"updateTitle",value:function(t){this.setState({title:t})}},{key:"render",value:function(){return n.a.createElement("div",{id:"App",className:"App"},n.a.createElement(x,{update:this.updateTitle}),n.a.createElement(N,{title:this.state.title}))}}]),e}(i.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},97:function(t,e,a){t.exports=a(283)}},[[97,1,2]]]);
//# sourceMappingURL=main.40391148.chunk.js.map